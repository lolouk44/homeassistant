title: Temperature
icon: mdi:thermostat
badges:
  !include /config/lovelace_views/badges.yaml
cards:
  - !include /config/lovelace_views/persistent_notifications.yaml
  - !include /config/lovelace_views/alert_card.yaml


###########################################################
# Nest Thermostat
###########################################################

  - type: custom:stack-in-card
    mode: vertical
    cards:
    - type: markdown
      content: >
        Nest Thermostat
    - type: conditional
      conditions:
        - entity: binary_sensor.hallway_heating
          state: "on"
      card:
        type: picture-elements
        state_color: true
        elements:
          - type: state-label
            entity: climate.hallway
            attribute: current_temperature
            suffix: "°C"
            style:
              color: '#FFFFFF'
              filter: opacity(100%)
              font-family: ZCOOL QingKe HuangYou
              font-size: 4.5em
              top: 47%
              left: 50%
          - type: state-label
            entity: climate.hallway
            attribute: temperature
            style:
              color: '#FFFFFF'
              filter: opacity(100%)
              font-family: ZCOOL QingKe HuangYou
              font-size: 2em
              top: 63%
              left: 50%

          - type: conditional
            conditions:
              - entity: climate.hallway 
                attribute: hvac_action
                state: 'heat'
            elements:
              - type: icon
                icon: mdi:fire
                entity: climate.hallway
                style:
                  top: 75%
                  left: 46%
                  color: rgb(255,87,34)

          - type: conditional
            conditions:
              - entity: binary_sensor.hallway_thermostat_has_leaf
                state: 'off'
            elements:
              - type: icon
                icon: mdi:leaf
                style:
                  top: 75%
                  left: 54%
                  color: gray

          - type: conditional
            conditions:
              - entity: binary_sensor.hallway_thermostat_has_leaf
                state: 'on'
            elements:
              - type: icon
                icon: mdi:leaf
                style:
                  top: 75%
                  left: 54%
                  color: rgb(76,175,80)
          - type: icon
            icon: mdi:thermometer-chevron-down
            entity: script.nest_thermostat_temp_down 
            style:
              top: 50%
              left: 30%
              color: '#FFFFFF'
            tap_action:
              action: call-service
              service: script.nest_thermostat_temp_down
              # data:
              #   entity_id: script.nest_thermostat_temp_down
          - type: icon
            icon: mdi:thermometer-chevron-up
            entity: script.nest_thermostat_temp_up 
            style:
              top: 50%
              left: 71%
              color: '#FFFFFF'
            tap_action:
              action: call-service
              service: script.nest_thermostat_temp_up
        image: /local/Nest-On.png

    - type: conditional
      conditions:
        - entity: binary_sensor.hallway_heating
          state: "off"
      card:
        type: picture-elements
        state_color: true
        elements:
          - type: state-label
            entity: climate.hallway
            attribute: current_temperature
            suffix: "°C"
            style:
              color: '#FFFFFF'
              filter: opacity(100%)
              font-family: ZCOOL QingKe HuangYou
              font-size: 4.5em
              top: 47%
              left: 50%
          - type: state-label
            entity: climate.hallway
            attribute: temperature
            style:
              color: '#FFFFFF'
              filter: opacity(100%)
              font-family: ZCOOL QingKe HuangYou
              font-size: 2em
              top: 63%
              left: 50%

          - type: conditional
            conditions:
              - entity: climate.hallway 
                attribute: hvac_action
                state: 'heat'
            elements:
              - type: icon
                icon: mdi:fire
                entity: climate.hallway
                style:
                  top: 75%
                  left: 46%
                  color: rgb(255,87,34)

          - type: conditional
            conditions:
              - entity: binary_sensor.hallway_thermostat_has_leaf
                state: 'off'
            elements:
              - type: icon
                icon: mdi:leaf
                style:
                  top: 75%
                  left: 54%
                  color: gray

          - type: conditional
            conditions:
              - entity: binary_sensor.hallway_thermostat_has_leaf
                state: 'on'
            elements:
              - type: icon
                icon: mdi:leaf
                style:
                  top: 75%
                  left: 54%
                  color: rgb(76,175,80)
          - type: icon
            icon: mdi:thermometer-chevron-down
            entity: script.nest_thermostat_temp_down 
            style:
              top: 50%
              left: 30%
              color: '#FFFFFF'
            tap_action:
              action: call-service
              service: script.nest_thermostat_temp_down
              # data:
              #   entity_id: script.nest_thermostat_temp_down
          - type: icon
            icon: mdi:thermometer-chevron-up
            entity: script.nest_thermostat_temp_up 
            style:
              top: 50%
              left: 71%
              color: '#FFFFFF'
            tap_action:
              action: call-service
              service: script.nest_thermostat_temp_up
        image: /local/Nest-Off.png

###########################################################
# Living Room Big TRV
###########################################################
  - type: custom:stack-in-card
    mode: vertical
    cards:
    - type: markdown
      content: >
        Living Room Big TRV
    - type: picture-elements
      state_color: true
      elements:
        - type: state-icon
          entity: sensor.living_room_big_trv_battery
          style:
            top: 30%
            left: 39%
        - type: conditional
          conditions:
            - entity: binary_sensor.living_room_big_trv_valve_alarm
              state: 'on'
          elements:
            - type: state-icon
              entity: binary_sensor.living_room_big_trv_valve_alarm
              style:
                top: 30%
                left: 46%
              tap_action:
                action: call-service
                service: switch.turn_off
                data:
                  entity_id: switch.living_room_big_trv_valve_detection
        - type: state-icon
          entity: lock.living_room_big_trv_child_lock
          style:
            top: 30%
            left: 54%
          tap_action:
            action: toggle
        - type: state-icon
          entity: binary_sensor.living_room_big_trv_connectivity
          style:
            top: 30%
            left: 61%

        - type: state-label
          entity: sensor.living_room_big_trv_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 5em
            top: 47%
            left: 50%
        - type: state-label
          entity: number.living_room_big_trv_target_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 2em
            top: 63%
            left: 50%

        - type: conditional
          conditions:
            - entity: group.living_room_windows 
              state: 'on'
          elements:
            - type: state-icon
              entity: group.living_room_windows 
              style:
                top: 75%
                left: 39%
        - type: conditional
          conditions:
            - entity: select.living_room_big_trv_mode
              state: 'off'
          elements:
            - type: icon
              icon: mdi:power
              entity: select.living_room_big_trv_mode
              style:
                top: 75%
                left: 46%
                color: gray
        - type: conditional
          conditions:
            - entity: select.living_room_big_trv_mode
              state: 'heat'
          elements:
            - type: icon
              icon: mdi:fire
              entity: select.living_room_big_trv_mode
              style:
                top: 75%
                left: 46%
                color: rgb(255,87,34)

        - type: conditional
          conditions:
            - entity: select.living_room_big_trv_preset
              state: 'auto'
          elements:
            - type: icon
              icon: mdi:thermostat-auto
              entity: select.living_room_big_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(76,175,80)
        - type: conditional
          conditions:
            - entity: select.living_room_big_trv_preset
              state: 'away'
          elements:
            - type: icon
              icon: mdi:snowflake
              entity: select.living_room_big_trv_preset
              style:
                top: 75%
                left: 54%
                color: var(--primary-color)
        - type: conditional
          conditions:
            - entity: select.living_room_big_trv_preset
              state: 'manual'
          elements:
            - type: icon
              icon: mdi:hand-back-right
              entity: select.living_room_big_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(255,87,34)
      image: /local/Aqara_E1_TRV.png

###########################################################
# Living Room Small TRV
###########################################################
  - type: custom:stack-in-card
    mode: vertical
    cards:
    - type: markdown
      content: >
        Living Room Small TRV
    - type: picture-elements
      state_color: true
      elements:
        - type: state-icon
          entity: sensor.living_room_small_trv_battery
          style:
            top: 30%
            left: 39%
        - type: conditional
          conditions:
            - entity: binary_sensor.living_room_small_trv_valve_alarm
              state: 'on'
          elements:
            - type: state-icon
              entity: binary_sensor.living_room_small_trv_valve_alarm
              style:
                top: 30%
                left: 46%
              tap_action:
                action: call-service
                service: switch.turn_off
                data:
                  entity_id: switch.living_room_small_trv_valve_detection
        - type: state-icon
          entity: lock.living_room_small_trv_child_lock
          style:
            top: 30%
            left: 54%
          tap_action:
            action: toggle
        - type: state-icon
          entity: binary_sensor.living_room_small_trv_connectivity
          style:
            top: 30%
            left: 61%

        - type: state-label
          entity: sensor.living_room_small_trv_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 5em
            top: 47%
            left: 50%
        - type: state-label
          entity: number.living_room_small_trv_target_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 2em
            top: 63%
            left: 50%

        - type: conditional
          conditions:
            - entity: group.living_room_windows 
              state: 'on'
          elements:
            - type: state-icon
              entity: group.living_room_windows 
              style:
                top: 75%
                left: 39%
        - type: conditional
          conditions:
            - entity: select.living_room_small_trv_mode
              state: 'off'
          elements:
            - type: icon
              icon: mdi:power
              entity: select.living_room_small_trv_mode
              style:
                top: 75%
                left: 46%
                color: gray
        - type: conditional
          conditions:
            - entity: select.living_room_small_trv_mode
              state: 'heat'
          elements:
            - type: icon
              icon: mdi:fire
              entity: select.living_room_small_trv_mode
              style:
                top: 75%
                left: 46%
                color: rgb(255,87,34)

        - type: conditional
          conditions:
            - entity: select.living_room_small_trv_preset
              state: 'auto'
          elements:
            - type: icon
              icon: mdi:thermostat-auto
              entity: select.living_room_small_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(76,175,80)
        - type: conditional
          conditions:
            - entity: select.living_room_small_trv_preset
              state: 'away'
          elements:
            - type: icon
              icon: mdi:snowflake
              entity: select.living_room_small_trv_preset
              style:
                top: 75%
                left: 54%
                color: var(--primary-color)
        - type: conditional
          conditions:
            - entity: select.living_room_small_trv_preset
              state: 'manual'
          elements:
            - type: icon
              icon: mdi:hand-back-right
              entity: select.living_room_small_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(255,87,34)
      image: /local/Aqara_E1_TRV.png

###########################################################
# Kitchen TRV
###########################################################
  - type: custom:stack-in-card
    mode: vertical
    cards:
    - type: markdown
      content: >
        Kitchen
    - type: picture-elements
      state_color: true
      elements:
        - type: state-icon
          entity: sensor.kitchen_trv_battery
          style:
            top: 30%
            left: 39%
        - type: conditional
          conditions:
            - entity: binary_sensor.kitchen_trv_valve_alarm
              state: 'on'
          elements:
            - type: state-icon
              entity: binary_sensor.kitchen_trv_valve_alarm
              style:
                top: 30%
                left: 46%
              tap_action:
                action: call-service
                service: switch.turn_off
                data:
                  entity_id: switch.kitchen_trv_valve_detection
        - type: state-icon
          entity: lock.kitchen_trv_child_lock
          style:
            top: 30%
            left: 54%
          tap_action:
            action: toggle
        - type: state-icon
          entity: binary_sensor.kitchen_trv_connectivity
          style:
            top: 30%
            left: 61%

        - type: state-label
          entity: sensor.kitchen_trv_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 5em
            top: 47%
            left: 50%
        - type: state-label
          entity: number.kitchen_trv_target_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 2em
            top: 63%
            left: 50%

        - type: conditional
          conditions:
            - entity: binary_sensor.kitchen_window
              state: 'on'
          elements:
            - type: state-icon
              entity: binary_sensor.kitchen_window
              style:
                top: 75%
                left: 39%
        - type: conditional
          conditions:
            - entity: select.kitchen_trv_mode
              state: 'off'
          elements:
            - type: icon
              icon: mdi:power
              entity: select.kitchen_trv_mode
              style:
                top: 75%
                left: 46%
                color: gray
        - type: conditional
          conditions:
            - entity: select.kitchen_trv_mode
              state: 'heat'
          elements:
            - type: icon
              icon: mdi:fire
              entity: select.kitchen_trv_mode
              style:
                top: 75%
                left: 46%
                color: rgb(255,87,34)

        - type: conditional
          conditions:
            - entity: select.kitchen_trv_preset
              state: 'auto'
          elements:
            - type: icon
              icon: mdi:thermostat-auto
              entity: select.kitchen_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(76,175,80)
        - type: conditional
          conditions:
            - entity: select.kitchen_trv_preset
              state: 'away'
          elements:
            - type: icon
              icon: mdi:snowflake
              entity: select.kitchen_trv_preset
              style:
                top: 75%
                left: 54%
                color: var(--primary-color)
        - type: conditional
          conditions:
            - entity: select.kitchen_trv_preset
              state: 'manual'
          elements:
            - type: icon
              icon: mdi:hand-back-right
              entity: select.kitchen_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(255,87,34)
      image: /local/Aqara_E1_TRV.png

###########################################################
# Conservatory TRV
###########################################################
  - type: custom:stack-in-card
    mode: vertical
    cards:
    - type: markdown
      content: >
        Conservatory
    - type: picture-elements
      state_color: true
      elements:
        - type: state-icon
          entity: sensor.conservatory_trv_battery
          style:
            top: 30%
            left: 39%
        - type: conditional
          conditions:
            - entity: binary_sensor.conservatory_trv_valve_alarm
              state: 'on'
          elements:
            - type: state-icon
              entity: binary_sensor.conservatory_trv_valve_alarm
              style:
                top: 30%
                left: 46%
              tap_action:
                action: call-service
                service: switch.turn_off
                data:
                  entity_id: switch.conservatory_trv_valve_detection
        - type: state-icon
          entity: lock.conservatory_trv_child_lock
          style:
            top: 30%
            left: 54%
          tap_action:
            action: toggle
        - type: state-icon
          entity: binary_sensor.conservatory_trv_connectivity
          style:
            top: 30%
            left: 61%

        - type: state-label
          entity: sensor.conservatory_trv_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 5em
            top: 47%
            left: 50%
        - type: state-label
          entity: number.conservatory_trv_target_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 2em
            top: 63%
            left: 50%

        - type: conditional
          conditions:
            - entity: group.conservatory_windows
              state: 'on'
          elements:
            - type: state-icon
              entity: group.conservatory_windows
              style:
                top: 75%
                left: 39%
        - type: conditional
          conditions:
            - entity: select.conservatory_trv_mode
              state: 'off'
          elements:
            - type: icon
              icon: mdi:power
              entity: select.conservatory_trv_mode
              style:
                top: 75%
                left: 46%
                color: gray
        - type: conditional
          conditions:
            - entity: select.conservatory_trv_mode
              state: 'heat'
          elements:
            - type: icon
              icon: mdi:fire
              entity: select.conservatory_trv_mode
              style:
                top: 75%
                left: 46%
                color: rgb(255,87,34)

        - type: conditional
          conditions:
            - entity: select.conservatory_trv_preset
              state: 'auto'
          elements:
            - type: icon
              icon: mdi:thermostat-auto
              entity: select.conservatory_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(76,175,80)
        - type: conditional
          conditions:
            - entity: select.conservatory_trv_preset
              state: 'away'
          elements:
            - type: icon
              icon: mdi:snowflake
              entity: select.conservatory_trv_preset
              style:
                top: 75%
                left: 54%
                color: var(--primary-color)
        - type: conditional
          conditions:
            - entity: select.conservatory_trv_preset
              state: 'manual'
          elements:
            - type: icon
              icon: mdi:hand-back-right
              entity: select.conservatory_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(255,87,34)
      image: /local/Aqara_E1_TRV.png

###########################################################
# Master Bedroom TRV
###########################################################
  - type: custom:stack-in-card
    mode: vertical
    cards:
    - type: markdown
      content: >
        Master Bedroom
    - type: picture-elements
      state_color: true
      elements:
        - type: state-icon
          entity: sensor.master_bedroom_trv_battery
          style:
            top: 30%
            left: 39%
        - type: conditional
          conditions:
            - entity: binary_sensor.master_bedroom_trv_valve_alarm
              state: 'on'
          elements:
            - type: state-icon
              entity: binary_sensor.master_bedroom_trv_valve_alarm
              style:
                top: 30%
                left: 46%
              tap_action:
                action: call-service
                service: switch.turn_off
                data:
                  entity_id: switch.master_bedroom_trv_valve_detection
        - type: state-icon
          entity: lock.master_bedroom_trv_child_lock
          style:
            top: 30%
            left: 54%
          tap_action:
            action: toggle
        - type: state-icon
          entity: binary_sensor.master_bedroom_trv_connectivity
          style:
            top: 30%
            left: 61%

        - type: state-label
          entity: sensor.master_bedroom_trv_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 5em
            top: 47%
            left: 50%
        - type: state-label
          entity: number.master_bedroom_trv_target_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 2em
            top: 63%
            left: 50%

        - type: conditional
          conditions:
            - entity: group.master_bedroom_windows
              state: 'on'
          elements:
            - type: state-icon
              entity: group.master_bedroom_windows
              style:
                top: 75%
                left: 39%
        - type: conditional
          conditions:
            - entity: select.master_bedroom_trv_mode
              state: 'off'
          elements:
            - type: icon
              icon: mdi:power
              entity: select.master_bedroom_trv_mode
              style:
                top: 75%
                left: 46%
                color: gray
        - type: conditional
          conditions:
            - entity: select.master_bedroom_trv_mode
              state: 'heat'
          elements:
            - type: icon
              icon: mdi:fire
              entity: select.master_bedroom_trv_mode
              style:
                top: 75%
                left: 46%
                color: rgb(255,87,34)

        - type: conditional
          conditions:
            - entity: select.master_bedroom_trv_preset
              state: 'auto'
          elements:
            - type: icon
              icon: mdi:thermostat-auto
              entity: select.master_bedroom_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(76,175,80)
        - type: conditional
          conditions:
            - entity: select.master_bedroom_trv_preset
              state: 'away'
          elements:
            - type: icon
              icon: mdi:snowflake
              entity: select.master_bedroom_trv_preset
              style:
                top: 75%
                left: 54%
                color: var(--primary-color)
        - type: conditional
          conditions:
            - entity: select.master_bedroom_trv_preset
              state: 'manual'
          elements:
            - type: icon
              icon: mdi:hand-back-right
              entity: select.master_bedroom_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(255,87,34)
      image: /local/Aqara_E1_TRV.png

###########################################################
# Kiaan TRV
###########################################################
  - type: custom:stack-in-card
    mode: vertical
    cards:
    - type: markdown
      content: >
        Kiaan
    - type: picture-elements
      state_color: true
      elements:
        - type: state-icon
          entity: sensor.kiaan_trv_battery
          style:
            top: 30%
            left: 39%
        - type: conditional
          conditions:
            - entity: binary_sensor.kiaan_trv_valve_alarm
              state: 'on'
          elements:
            - type: state-icon
              entity: binary_sensor.kiaan_trv_valve_alarm
              style:
                top: 30%
                left: 46%
              tap_action:
                action: call-service
                service: switch.turn_off
                data:
                  entity_id: switch.kiaan_trv_valve_detection
        - type: state-icon
          entity: lock.kiaan_trv_child_lock
          style:
            top: 30%
            left: 54%
          tap_action:
            action: toggle
        - type: state-icon
          entity: binary_sensor.kiaan_trv_connectivity
          style:
            top: 30%
            left: 61%

        - type: state-label
          entity: sensor.kiaan_trv_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 5em
            top: 47%
            left: 50%
        - type: state-label
          entity: number.kiaan_trv_target_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 2em
            top: 63%
            left: 50%

        - type: conditional
          conditions:
            - entity: group.kiaan_room_windows
              state: 'on'
          elements:
            - type: state-icon
              entity: group.kiaan_room_windows
              style:
                top: 75%
                left: 39%
        - type: conditional
          conditions:
            - entity: select.kiaan_trv_mode
              state: 'off'
          elements:
            - type: icon
              icon: mdi:power
              entity: select.kiaan_trv_mode
              style:
                top: 75%
                left: 46%
                color: gray
        - type: conditional
          conditions:
            - entity: select.kiaan_trv_mode
              state: 'heat'
          elements:
            - type: icon
              icon: mdi:fire
              entity: select.kiaan_trv_mode
              style:
                top: 75%
                left: 46%
                color: rgb(255,87,34)

        - type: conditional
          conditions:
            - entity: select.kiaan_trv_preset
              state: 'auto'
          elements:
            - type: icon
              icon: mdi:thermostat-auto
              entity: select.kiaan_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(76,175,80)
        - type: conditional
          conditions:
            - entity: select.kiaan_trv_preset
              state: 'away'
          elements:
            - type: icon
              icon: mdi:snowflake
              entity: select.kiaan_trv_preset
              style:
                top: 75%
                left: 54%
                color: var(--primary-color)
        - type: conditional
          conditions:
            - entity: select.kiaan_trv_preset
              state: 'manual'
          elements:
            - type: icon
              icon: mdi:hand-back-right
              entity: select.kiaan_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(255,87,34)
      image: /local/Aqara_E1_TRV.png

###########################################################
# Bathoom TRV
###########################################################
  - type: custom:stack-in-card
    mode: vertical
    cards:
    - type: markdown
      content: >
        Bathroom
    - type: picture-elements
      state_color: true
      elements:
        - type: state-icon
          entity: sensor.bathroom_trv_battery
          style:
            top: 30%
            left: 39%
        - type: conditional
          conditions:
            - entity: binary_sensor.bathroom_trv_valve_alarm
              state: 'on'
          elements:
            - type: state-icon
              entity: binary_sensor.bathroom_trv_valve_alarm
              style:
                top: 30%
                left: 46%
              tap_action:
                action: call-service
                service: switch.turn_off
                data:
                  entity_id: switch.bathroom_trv_valve_detection
        - type: state-icon
          entity: lock.bathroom_trv_child_lock
          style:
            top: 30%
            left: 54%
          tap_action:
            action: toggle
        - type: state-icon
          entity: binary_sensor.bathroom_trv_connectivity
          style:
            top: 30%
            left: 61%

        - type: state-label
          entity: sensor.bathroom_trv_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 5em
            top: 47%
            left: 50%
        - type: state-label
          entity: number.bathroom_trv_target_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 2em
            top: 63%
            left: 50%

        - type: conditional
          conditions:
            - entity: binary_sensor.bathroom_window
              state: 'on'
          elements:
            - type: state-icon
              entity: binary_sensor.bathroom_window
              style:
                top: 75%
                left: 39%
        - type: conditional
          conditions:
            - entity: select.bathroom_trv_mode
              state: 'off'
          elements:
            - type: icon
              icon: mdi:power
              entity: select.bathroom_trv_mode
              style:
                top: 75%
                left: 46%
                color: gray
        - type: conditional
          conditions:
            - entity: select.bathroom_trv_mode
              state: 'heat'
          elements:
            - type: icon
              icon: mdi:fire
              entity: select.bathroom_trv_mode
              style:
                top: 75%
                left: 46%
                color: rgb(255,87,34)

        - type: conditional
          conditions:
            - entity: select.bathroom_trv_preset
              state: 'auto'
          elements:
            - type: icon
              icon: mdi:thermostat-auto
              entity: select.bathroom_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(76,175,80)
        - type: conditional
          conditions:
            - entity: select.bathroom_trv_preset
              state: 'away'
          elements:
            - type: icon
              icon: mdi:snowflake
              entity: select.bathroom_trv_preset
              style:
                top: 75%
                left: 54%
                color: var(--primary-color)
        - type: conditional
          conditions:
            - entity: select.bathroom_trv_preset
              state: 'manual'
          elements:
            - type: icon
              icon: mdi:hand-back-right
              entity: select.bathroom_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(255,87,34)
      image: /local/Aqara_E1_TRV.png

###########################################################
# Blue Room TRV
###########################################################
  - type: custom:stack-in-card
    mode: vertical
    cards:
    - type: markdown
      content: >
        Blue Room
    - type: picture-elements
      state_color: true
      elements:
        - type: state-icon
          entity: sensor.blue_room_trv_battery
          style:
            top: 30%
            left: 39%
        - type: conditional
          conditions:
            - entity: binary_sensor.blue_room_trv_valve_alarm
              state: 'on'
          elements:
            - type: state-icon
              entity: binary_sensor.blue_room_trv_valve_alarm
              style:
                top: 30%
                left: 46%
              tap_action:
                action: call-service
                service: switch.turn_off
                data:
                  entity_id: switch.blue_room_trv_valve_detection
        - type: state-icon
          entity: lock.blue_room_trv_child_lock
          style:
            top: 30%
            left: 54%
          tap_action:
            action: toggle
        - type: state-icon
          entity: binary_sensor.blue_room_trv_connectivity
          style:
            top: 30%
            left: 61%

        - type: state-label
          entity: sensor.blue_room_trv_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 5em
            top: 47%
            left: 50%
        - type: state-label
          entity: number.blue_room_trv_target_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 2em
            top: 63%
            left: 50%

        - type: conditional
          conditions:
            - entity: group.blue_room_windows
              state: 'on'
          elements:
            - type: state-icon
              entity: group.blue_room_windows
              style:
                top: 75%
                left: 39%
        - type: conditional
          conditions:
            - entity: select.blue_room_trv_mode
              state: 'off'
          elements:
            - type: icon
              icon: mdi:power
              entity: select.blue_room_trv_mode
              style:
                top: 75%
                left: 46%
                color: gray
        - type: conditional
          conditions:
            - entity: select.blue_room_trv_mode
              state: 'heat'
          elements:
            - type: icon
              icon: mdi:fire
              entity: select.blue_room_trv_mode
              style:
                top: 75%
                left: 46%
                color: rgb(255,87,34)

        - type: conditional
          conditions:
            - entity: select.blue_room_trv_preset
              state: 'auto'
          elements:
            - type: icon
              icon: mdi:thermostat-auto
              entity: select.blue_room_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(76,175,80)
        - type: conditional
          conditions:
            - entity: select.blue_room_trv_preset
              state: 'away'
          elements:
            - type: icon
              icon: mdi:snowflake
              entity: select.blue_room_trv_preset
              style:
                top: 75%
                left: 54%
                color: var(--primary-color)
        - type: conditional
          conditions:
            - entity: select.blue_room_trv_preset
              state: 'manual'
          elements:
            - type: icon
              icon: mdi:hand-back-right
              entity: select.blue_room_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(255,87,34)
      image: /local/Aqara_E1_TRV.png

###########################################################
# Pooja Room TRV
###########################################################
  - type: custom:stack-in-card
    mode: vertical
    cards:
    - type: markdown
      content: >
        Pooja Room
    - type: picture-elements
      state_color: true
      elements:
        - type: state-icon
          entity: sensor.pooja_room_trv_battery
          style:
            top: 30%
            left: 39%
        - type: conditional
          conditions:
            - entity: binary_sensor.pooja_room_trv_valve_alarm
              state: 'on'
          elements:
            - type: state-icon
              entity: binary_sensor.pooja_room_trv_valve_alarm
              style:
                top: 30%
                left: 46%
              tap_action:
                action: call-service
                service: switch.turn_off
                data:
                  entity_id: switch.pooja_room_trv_valve_detection
        - type: state-icon
          entity: lock.pooja_room_trv_child_lock
          style:
            top: 30%
            left: 54%
          tap_action:
            action: toggle
        - type: state-icon
          entity: binary_sensor.pooja_room_trv_connectivity
          style:
            top: 30%
            left: 61%

        - type: state-label
          entity: sensor.pooja_room_trv_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 5em
            top: 47%
            left: 50%
        - type: state-label
          entity: number.pooja_room_trv_target_temperature
          style:
            color: '#FFFFFF'
            filter: opacity(100%)
            font-family: ZCOOL QingKe HuangYou
            font-size: 2em
            top: 63%
            left: 50%

        - type: conditional
          conditions:
            - entity: group.pooja_room_windows
              state: 'on'
          elements:
            - type: state-icon
              entity: group.pooja_room_windows
              style:
                top: 75%
                left: 39%
        - type: conditional
          conditions:
            - entity: select.pooja_room_trv_mode
              state: 'off'
          elements:
            - type: icon
              icon: mdi:power
              entity: select.pooja_room_trv_mode
              style:
                top: 75%
                left: 46%
                color: gray
        - type: conditional
          conditions:
            - entity: select.pooja_room_trv_mode
              state: 'heat'
          elements:
            - type: icon
              icon: mdi:fire
              entity: select.pooja_room_trv_mode
              style:
                top: 75%
                left: 46%
                color: rgb(255,87,34)

        - type: conditional
          conditions:
            - entity: select.pooja_room_trv_preset
              state: 'auto'
          elements:
            - type: icon
              icon: mdi:thermostat-auto
              entity: select.pooja_room_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(76,175,80)
        - type: conditional
          conditions:
            - entity: select.pooja_room_trv_preset
              state: 'away'
          elements:
            - type: icon
              icon: mdi:snowflake
              entity: select.pooja_room_trv_preset
              style:
                top: 75%
                left: 54%
                color: var(--primary-color)
        - type: conditional
          conditions:
            - entity: select.pooja_room_trv_preset
              state: 'manual'
          elements:
            - type: icon
              icon: mdi:hand-back-right
              entity: select.pooja_room_trv_preset
              style:
                top: 75%
                left: 54%
                color: rgb(255,87,34)
      image: /local/Aqara_E1_TRV.png